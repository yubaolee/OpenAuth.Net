---
title: 操作手册
createTime: 2025/04/23 23:43:26
permalink: /pro/startflow/
---

一个完整的工作流从设计到发起，到审批，需要经过：

1. 表单设计：【基础配置/表单设计】中添加一个用于流程的表单；

2. 流程设计：【基础配置/流程设计】中添加一个流程模版，流程模版选择刚刚建的表单；

3. 流程发起：【流程中心/我的流程】中【新的申请】创建一个流程实例，或在业务系统中直接【送审】发起；

4. 流程审批：【流程中心/待处理流程】中进行审批；

表单设计已经在前面章节[表单设计-基本介绍](/pro/startform.html)中介绍，本章节介绍的后面几个步骤。

## 流程设计

在【基础配置/流程设计】界面，点击“添加模板”。填写好流程模板的名称及需要的信息。点击“下一步”进入选择流程关联的表单。

![2025-04-09-21-00-56](http://img.openauth.net.cn/2025-04-09-21-00-56.png)

流程模版使用的表单，需要在【基础配置/表单设计】中添加，也可以直接选择"URL表单"，具体查看[表单设计-基本介绍](/pro/startform.html)

选择好表单后，点击“下一步”进入流程设计。

![2025-04-19-12-28-51](http://img.openauth.net.cn/2025-04-19-12-28-51.png)


#### 节点类型

关于节点的类型概念及区分可以参考[工作流中的概念](/core/flowinstanceconcept.html)
* 开始节点：流程的开始节点，一个流程只有一个开始
* 结束节点：流程的结束节点
* 网关开始：对应BPMN的并行网关，当需要多个分支同时审批时，使用该节点作为并行分支的起点
* 网关结束：与网关开始节点一一对应，该节点作为分支的终点
* 会签节点：处理的是同一个任务需要多人审批的情况
* 任务节点：普通的审批节点

#### 节点属性

* 名称：**必填** 节点名称
* 网关/会签类型：当节点类型为网关、会签节点时有效
    * 依次：依次审批，需要指定审批人
    * 全部通过：全部审批通过后，流程继续
    * 至少一个通过：任意一个审批通过后，流程继续
* 执行权限 **必填** 节点的执行权限，如：指定用户、指定角色等。
    * 所有人： 任何人都可以审批
    * 指定用户：指定用户审批，当选中这项时需要选择指定的用户
    * 指定角色：指定角色审批，当选中这项时需要选择指定的角色
    * 指定SQL： 流程上个节点审批时，会根据SQL执行的结果确定本节点的哪些用户可以审批。当选中这项时需要填写对应的SQL语句
    * 上一节点执行人的直属上级：流程上个节点审批时，会根据上一节点执行人的直属上级确定本节点的审批人
    * 连续多级直属上级：按人员的直属上级一直审批，直到碰到设定的多级主管审批终点。当选中这项时需要指定多级审批终点的角色
    * 部门负责人：指定部门负责人审批，当选中这项时需要选择对应的部门
    * 运行时指定角色：流程上个节点审批时，审批人指定的角色审批
    * 运行时指定用户：流程上个节点审批时，审批人指定的用户审批
* 可编辑字段：流程审批时，该节点可以编辑的表单字段
* 三方回调URL：当节点审批完成时，如果需要通知其他系统或模块,则填写对应系统的接口地址。

#### 连线属性

* 文本：连线上的文字
* 表单字段条件：连线上的判断条件，只有当一个节点有多条发出的连线时，该设置生效。


## 流程发起

OpenAuth.Net工作流分为两个大类：

1. 无业务关联流程，如请假、报销等。

2. 有业务关联流程，如采购、销售、入库等。

这两种流程的差异有以下几点：

| 对比维度 | 无业务关联流程 | 有业务关联流程 |
|---------|--------------|--------------|
| 适用场景 | 请假、报销等日常办公 | 采购、销售、入库等业务操作 |
| 发起方式 | 流程中心 -> 我的流程 -> 新的申请 | 直接在业务模块中发起（如：仓储中心 -> 入库订单 -> 送审） |
| 表单类型 | 简单表单，适用拖拽表单设计器 | 复杂表单，需要自定义表单或URL表单 |
| 审批结束处理 | 仅更新流程状态 | 需要修改业务数据状态 |

我们分别介绍如何发起这两种流程。

### 无业务关联流程

完成流程模版设计后，在【流程中心/我的流程】中【新的申请】开始创建一个流程实例。

![2025-04-09-21-14-32](http://img.openauth.net.cn/2025-04-09-21-14-32.png)

1. 在左边选择流程模版；

2. 填写待审批的表单内容；

3. 点击“下一步”，根据自己需要编辑流程实例标题，并保存。❗注意“审批完成后可以知会”，表示审批完成后，可以知会给其他用户。具体查看[工作流中的概念-知会](/core/flowinstanceconcept.md#知会)

保存完成后，在【流程中心/我的流程】中点击“搜索”按钮刷新查询，就可以看到刚刚发起的流程实例。

### 有业务关联流程

#### 挂载流程方案

与无业务关联流程不同，有业务关联流程需要先把流程模板挂载到业务模块中。在【模块管理】功能里面，把刚刚流程模板与功能关联。

![2025-04-09-21-21-44](http://img.openauth.net.cn/2025-04-09-21-21-44.png)

#### 业务系统发起【送审】

挂载完成后，在【仓储中心/入库单】中，选择一个入库单，点击【送审】，选择刚刚设计的流程模板：

![2025-04-06-22-34-34](http://img.openauth.net.cn/2025-04-06-22-34-34.png)

送审成功后就可以在【流程中心/我的流程】中看到刚刚送审的流程实例，点击进入后，就可以看到审批内容是业务详情的URL地址。

![2025-04-09-17-15-02](http://img.openauth.net.cn/2025-04-09-17-15-02.png)

详情页面：

![URL表单流程](http://img.openauth.net.cn/2025-04-06-22-46-13.png)


## 流程审批

用户可以在【流程中心/待处理流程】中看到自己需要审批的流程，点击【处理】按钮并进行相应的处理；

![2025-04-09-21-28-42](http://img.openauth.net.cn/2025-04-09-21-28-42.png)

其中：

* 同意：流程审批通过，流程结束；

* 不同意：流程审批不通过，流程结束；

* 驳回：可以驳回到指定的步骤，该步骤的人可以重新审批提交；

* 加签：在已有审批流程上临时添加审批人，协助自己审批；

* 撤销审批：针对自己发起的流程，可以撤销审批；



