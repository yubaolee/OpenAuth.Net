# 智能打印

OpenAuth.Pro提供灵活无代码（可能需要写SQL）的打印解决方案，无需开发人员参与即可配置自己需要的打印。

打印模板设计界面如下：

![sysprinterplan](http://img.openauth.net.cn/sysprinterplan.png)

挂载到业务系统中效果：

![20231002114914](http://img.openauth.net.cn/20231002114914.png)


## 使用指南

#### 设计打印模版

在打印中心-打印模版功能新增打印模版。设计界面说明如下：

![20231004165652](http://img.openauth.net.cn/20231004165652.png)

左边为设计工具栏，中间为画布，右边为属性框。可以根据自己需要调整打印界面。

#### 设置数据源

打印模版的核心是设计数据源。用户通过设计数据源，实现无开发打印。如下：

![20231004165939](http://img.openauth.net.cn/20231004165939.png)

1. 数据源：用于查询打印打印数据。 
   
2. Id:由数据源中的SQL自动生成的参数文本框。
   
3. 分组字段：如果配置了`分组字段`，则默认对应列表式打印模版。否则，可以看做卡片式。

* 【卡片式】用于打印一页只有一条数据的情况。比如快递的标签、用户名片等。
  ![20231004164125](http://img.openauth.net.cn/20231004164125.png)
* 【列表式】用于打印一页有多条数据的情况，通常是主从结构的表，同时打印主表及从表详情。如客户的发货清单。
![20231004164203](http://img.openauth.net.cn/20231004164203.png)

::: warning 注意

两种模版类型没有严格的区分。在后端返回相同的数据情况下，如果配置了`分组字段`，后端返回的数据会被转化成主从结构。上图即为官网【入库随货同行单（列表式）【带参数】】按OrderId进行分组后的数据。

:::

#### 功能模块挂载打印方案

制作完打印方案后，在【模块管理】功能里面，把刚刚打印方案与功能关联。

![20231004173811](http://img.openauth.net.cn/20231004173811.png)


#### 使用打印

最后就可以在功能里面使用打印了。

![20231002114914](http://img.openauth.net.cn/20231002114914.png)